{% extends 'base.html' %}
{% block content %}
<h1 class ="mb-5 text-center">{{ question.question_text }}</h1>

{% if user_vote %}
<div class="alert alert-success">
	<strong>Your vote:</strong> {{ user_vote.choice.choice_text }}
</div>
{% endif %}

<ul class ="list-group mb-5">
	{% for choice in question.choice_set.all %}
	<li class ="list-group-item d-flex justify-content-between align-items-center">
		<span>
			{{ choice.choice_text }}
			{% if user_vote and user_vote.choice.id == choice.id %}
				<span class="badge badge-primary ml-2">Your Vote</span>
			{% endif %}
		</span>
		<span class ="badge badge-success badge-pill">{{ choice.votes }}
			vote{{ choice.votes | pluralize }}</span>
	</li>
	{% endfor %}
</ul>

<a class ="btn btn-secondary" href ="{% url 'polls:index' %}">Back To Polls</a>
{% if user.is_authenticated %}
	<a class ="btn btn-dark" href ="{% url 'polls:detail' question.id %}">{% if user_vote %}Change Vote{% else %}Vote Now{% endif %}</a>
{% else %}
	<a class ="btn btn-dark" href ="{% url 'accounts:login' %}?next={% url 'polls:detail' question.id %}">Login to Vote</a>
{% endif %}
{% endblock %}